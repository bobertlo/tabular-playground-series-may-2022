schema: '2.0'
stages:
  clean:
    cmd: python clean.py
    deps:
    - path: clean.py
      md5: f4f6abbf1c1fdc0a25ab2ac71678c49d
      size: 1111
    - path: test.csv
      md5: ba8fdae95647d268e6170abb2f96369f
      size: 247187094
    - path: train.csv
      md5: 38d8ca74676e1be914a84d2ae3696318
      size: 318733334
    outs:
    - path: test.pickle
      md5: 473aaf98a9dbebf5cf94bbfb4c80ea91
      size: 246401471
    - path: train.pickle
      md5: d64f1b7feb316ee2dd7e36d6bf139d19
      size: 324001771
  train:
    cmd: python train.py
    deps:
    - path: train.pickle
      md5: d64f1b7feb316ee2dd7e36d6bf139d19
      size: 324001771
    - path: train.py
      md5: a9e358d52b6ea29b093069d08c3d95b9
      size: 4787
    params:
      params.yaml:
        train:
          lr_start: 0.003
          lr_end: 0.0001
          bs: 2048
          epochs: 75
          dropout: 0.3
          batch_norm: 4
          ensemble: true
          scale: true
    outs:
    - path: model
      md5: 5723be694b6b6f290a5246731a180bff.dir
      size: 14433672
      nfiles: 20
    - path: scalers
      md5: dd2f826cf7e2760f85926163db6038ef.dir
      size: 9670
      nfiles: 5
    - path: training_metrics.json
      md5: 4e7fa75e6f7d1c02baf4af823d01c672
      size: 120
    - path: training_metrics/scalars
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  predict:
    cmd: python predict.py
    deps:
    - path: model
      md5: 5723be694b6b6f290a5246731a180bff.dir
      size: 14433672
      nfiles: 20
    - path: predict.py
      md5: d346ef3f6d9e82898bd91ce218b74427
      size: 1435
    - path: sample_submission.csv
      md5: 6da5a3183d83a067a0616552b258d9fa
      size: 8300010
    - path: scalers
      md5: dd2f826cf7e2760f85926163db6038ef.dir
      size: 9670
      nfiles: 5
    - path: test.pickle
      md5: 473aaf98a9dbebf5cf94bbfb4c80ea91
      size: 246401471
    params:
      params.yaml:
        predict:
          predict: true
        train.ensemble: true
    outs:
    - path: submission.csv
      md5: d82cd1b0ad34f4ec3c06f978361f7cb5
      size: 13554490
